---
title: "R Notebook"
output: html_notebook
---

# Run Twitter Scrape 

```{r}
pacman::p_load(tidyverse, wdman, jsonlite, rvest, xml2, RSelenium, here, crayon, here)
source("helper_functions.R")
getwd()
options(scipen = 999)

todo_ids_ar <- get(load(here("data", "tw", "todo_ids_ar.Rdata")))

todo_ids_ar <- todo_ids_ar %>%
  filter(!duplicated(todo_ids_ar))

dat <- todo_ids_ar


```
# Main Function

```{r}
library(RSelenium)
port <- sample(4000L:5000L, 1)
rD <- rsDriver(verbose = FALSE, port = port)
rD

remDr <- rD$client
#remDr$close()

start <- 13421
finish <- 45474

final_list <- get_tweet_replies(dat, start, finish)
final_dt <- bind_rows(final_list)
beepr::beep(8)
save(final_dt, file = paste0("data/tw_data_",start, "_", finish, ".Rdata"))
```

